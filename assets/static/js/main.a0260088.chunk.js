(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{134:function(e,t,a){e.exports=a(356)},139:function(e,t,a){},267:function(e,t,a){},268:function(e,t,a){},269:function(e,t,a){},270:function(e,t,a){},271:function(e,t,a){},351:function(e,t,a){},352:function(e,t,a){},353:function(e,t,a){},355:function(e,t,a){},356:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(25),r=a.n(i),o=(a(139),a(2)),l=a(3),c=a(5),u=a(4),p=a(6),m=a(363),d=a(362),h=a(7),f=a(23),E=a(128),v=a(129),b=a(36),g=function(e){return{type:"GET_ERRORS",payload:e}},y=function(){return{type:"CLEAR_ERRORS"}},O=a(38),w={},C=function(e){var t=[];return Object.keys(e).forEach(function(a){"string"===typeof e[a]?t.push(e[a]):e[a].map(function(e){t.push(e)})}),t.join(" ")};function _(e){var t=e.url,a=e.data,n=e.method,s=void 0===n?"GET":n,i=e.useAuth,r=void 0!==i&&i,o=e.headers,l=void 0===o?{}:o;return r&&(l.Authorization="Token ".concat(Re.getState().auth.user.token)),fetch(t,{headers:l,method:s,body:a}).then(function(e){if(e.ok){var a=e.headers.get("Content-Type")||"";return a.includes("application/json")?e.json().catch(function(e){return Promise.reject(new Error("Invalid JSON: "+e.message))}):a.includes("text/html")?e.text().then(function(e){return{page_type:"generic",html:e}}).catch(function(e){return Promise.reject(new Error("HTML error: "+e.message))}):void 0}return 404===e.status?Promise.reject(new Error("Page not found: "+t)):500===e.status?Promise.reject(new Error("Internal server error: "+t)):e.json().then(function(e){return Promise.reject(new Error(C(e)))})}).catch(function(e){return Promise.reject(new Error(e.message))})}var I=function(e){return void 0===e||null===e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length},k="LOGOUT_USER_COMPLETE";var N=function(e,t){return function(e){localStorage.setItem("mytoptensJwtToken",e)}(e),{type:"SET_CURRENT_USER",payload:{token:e}}},S=function(e){return function(e){return e(y()),_({url:"/api/v1/rest-auth/logout/",method:"POST",useAuth:!1}).then(function(t){return localStorage.removeItem("mytoptensJwtToken"),e({type:k})}).then(function(){}).catch(function(t){return e(g({"logout user":"Unable to logout"}))})}},L=function(){return function(e){return _({url:"/api/v1/rest-auth/user/",method:"GET",useAuth:!0}).then(function(t){return e(function(e){return{type:"SET_USER_INFO",payload:e}}({username:t.username,email:t.email,id:t.id,slug:t.slug,emailVerified:t.email_verified}))}).catch(function(t){return e(g({"get user info":"Unable to get user info"}))})}},j=function(e){return{type:"FORGOT_PASSWORD_EMAIL_NOT_SENT"}},D=function(e){return function(t){t(y());var a=new FormData;for(var n in e)a.append(n,e[n]);return _({url:"/api/v1/rest-auth/password/reset/",data:a,method:"POST",useAuth:!1}).then(function(e){return t({type:"FORGOT_PASSWORD_EMAIL_SENT"})}).catch(function(a){return t(g({"request password reset email":"Unable to send a password reset email. It is likely that the email address ".concat(e," is not associated with a registered user")}))})}},T=function(e){return{type:"PASSWORD_NOT_CHANGED"}},A=function(e){return{type:"CHANGE_PASSWORD_COMPLETE"}},M=function(e){return{type:"CONFIRM_EMAIL_NOT_SENT"}},P=function(){return function(e){return e(y()),_({url:"/api/v1/sendconfirmationemail/",method:"POST",useAuth:!0}).then(function(t){return"Email confirmation sent"===t.message?e({type:"CONFIRM_EMAIL_SENT"}):"Email already verified"===t.message?e({type:"CONFIRM_EMAIL_ALREADY_VERIFIED"}):void 0}).catch(function(t){return e(g({sendConfirmationEmail:t.message}))})}},R=a(38),x={isLoading:!1,isAuthenticated:!1,forgotPasswordEmailSent:!1,resetPasswordComplete:!1,changePasswordComplete:!1,confirmEmailSent:!1,user:{}},U=a(28),F=a(8),z=a(43),V=[!1,!0],q=["Private","Public"],H=10;function G(e){for(var t=e.parentObject,a=e.property,n=e.value,s=Object.keys(t),i=0;i<s.length;i++){var r=t[s[i]];if(r[a]===n)return r}}var W=a(37),Y="CREATE_ITEM_SUCCEEDED",J="UPDATE_ITEM_SUCCEEDED",B="MOVE_ITEM_UP_SUCCEEDED";var K=function(e,t,a){return function(n){return _({url:"/api/v1/content/item/".concat(e,"/"),headers:{"Content-Type":"application/json"},data:JSON.stringify(Object(F.a)({},t,a)),method:"PATCH",useAuth:!0}).then(function(e){return n(function(e){return{type:J,payload:e}}(e))}).catch(function(e){return n(g({"update item":e.message}))})}};var Z=function(e){var t=e.itemId;return function(e){return _({url:"/api/v1/content/item/".concat(t,"/moveup/"),headers:{"Content-Type":"application/json"},method:"PATCH",useAuth:!0}).then(function(t){return e({type:"MOVE_ITEM_UP_SUCCEEDED",payload:{items:t}})}).catch(function(t){return e(g({"move item up error ":t.message}))})}},$=function(e){var t=e.itemId;return function(e){var a=Re.getState().item.things[t],n=a.list_id,s=a.order,i=Re.getState().list.things[n].item[s];e(Z({itemId:i}))}};var Q=a(38),X={things:{},isLoading:!1,error:null,organizerData:{}},ee=function(e){var t={};return Object.keys(e.list.organizerData).map(function(a){for(var n=e.list.organizerData[a],s=[],i=0;i<n.item.length;i++){var r=Object(U.a)({},e.item.organizerData[n.item[i]]);s.push(r)}t[n.id]=s}),Object.keys(e.list.organizerData).map(function(a){var n=e.list.organizerData[a];if(n.parent_item){var s=e.item.organizerData[n.parent_item];s&&(t[s.list_id][s.order-1].childListId=n.id)}}),t};var te="RECEIVE_ENTITIES",ae="FETCH_LISTS_STARTED",ne="FETCH_LISTS_FAILED",se="FETCH_LIST_BY_SLUG_STARTED",ie="FETCH_LISTS_FAILED",re="FILTER_LISTS",oe="CREATE_LIST_STARTED",le="CREATE_LIST_SUCCEEDED",ce="DELETE_LIST_SUCCEEDED",ue="SET_LIST_IS_PUBLIC_SUCCEEDED",pe="UPDATE_LIST_SUCCEEDED",me="RECEIVE_ORGANIZER_DATA",de="FETCH_ORGANIZER_DATA_STARTED",he="FETCH_ORGANIZER_DATA_FAILED",fe=new W.b.Entity("item",{list:["listSchema"]}),Ee=new W.b.Entity("list",{item:[fe]});function ve(e){return{type:te,payload:e}}function be(){return function(e,t){e({type:ae});var a=!1;return t().auth.user.token&&(a=!0),_({url:"/api/v1/content/list/",method:"GET",useAuth:a}).then(function(t){var a=Object(W.a)(t,[Ee]);return e(ve(a))}).catch(function(t){return e({type:ne}),e(g({"fetch lists":t.message}))})}}function ge(e){return function(t,a){t({type:se});var n=!1;return a().auth.user.token&&(n=!0),_({url:"/api/v1/content/listbyslug/?slug=".concat(e),method:"GET",useAuth:n}).then(function(e){var a=Object(W.a)(e,[Ee]);return t(ve(a))}).catch(function(e){return t({type:ie}),t(g({"fetch lists":e.message}))})}}var ye=function(e,t){return function(a){return a({type:oe}),_({url:"/api/v1/content/list/",data:JSON.stringify(e),method:"POST",useAuth:!0,headers:{"Content-Type":"application/json"}}).then(function(e){a({type:le,payload:{list:e}}),t.push("/list/".concat(e.slug))}).catch(function(e){return a(g({"create list":e.message}))})}};var Oe=function(e,t,a){return function(n){return _({url:"/api/v1/content/list/".concat(e,"/"),headers:{"Content-Type":"application/json"},data:JSON.stringify(Object(F.a)({},t,a)),method:"PATCH",useAuth:!0}).then(function(e){return n(function(e){return{type:pe,payload:e}}(e))}).catch(function(e){return n(g({"update item":e.message}))})}};var we=function(e){return function(t,a){return _({url:"/api/v1/content/list/".concat(e,"/"),method:"DELETE",useAuth:!0}).then(function(a){return t(function(e){return{type:ce,payload:{id:e}}}(e))}).catch(function(e){return t(g({"delete list":e.message}))})}};var Ce=function(e){var t=e.id,a=e.is_public;return function(e){return _({url:"/api/v1/content/list/".concat(t,"/"),headers:{"Content-Type":"application/json"},data:JSON.stringify({is_public:a}),method:"PATCH",useAuth:!0}).then(function(t){return e(function(e){var t=e.id,a=e.is_public;return{type:ue,payload:{id:t,is_public:a}}}(t))}).catch(function(t){return e(g({"set list is public":t.message}))})}};function _e(e){return function(t,a){t({type:de});var n=!1;return a().auth.user.token&&(n=!0),_({url:"/api/v1/content/list/?expand=item&fields=id,name,item,order,parent_item,slug&created_by=".concat(e),method:"GET",useAuth:n}).then(function(e){var a=Object(W.a)(e,[Ee]);return t({type:me,payload:a})}).catch(function(e){return t({type:he}),t(g({"fetch my list names":e.message}))})}}var Ie=a(38),ke={isLoading:!1,error:null,things:{},organizerData:{}},Ne=Object(z.a)([function(e){return Object.keys(e.list.things).map(function(t){return e.list.things[t]})},function(e){return e.page.searchTerm}],function(e,t){return e.filter(function(e){return""===t?e:e.name.match(new RegExp(t,"i"))})}),Se=(Object(z.a)([Ne],function(e){var t={};return V.forEach(function(a){t[a]=e.filter(function(e){return e.is_public===a})}),t}),Object(z.a)([Ne],function(e){return e.filter(function(e){return e.is_public})})),Le=Object(z.a)([Ne],function(e){var t={};return V.forEach(function(a){t[a]=e.filter(function(e){return e.created_by===Re.getState().auth.user.id&&e.is_public===a})}),t}),je=function(e){var t=Object.keys(e.list.organizerData).map(function(t){return e.list.organizerData[t]});return t.sort(function(e,t){return e.name.localeCompare(t.name)}),t},De=function(e,t){var a=[],n=e.list.things;return t&&t.item.map(function(t){var s=Object(U.a)({},e.item.things[t]),i=G({parentObject:n,property:"parent_item",value:t});i&&(s.childList=Object(U.a)({},i)),a.push(s)}),a};var Te=a(38),Ae={searchTerm:""};var Me=Object(f.combineReducers)({errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":var a={};return Object.keys(t.payload).forEach(function(e){"string"===typeof t.payload[e]?a[e]=[t.payload[e]]:a[e]=Object(b.a)(t.payload[e])}),O(a,{});case"CLEAR_ERRORS":return{};default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return R({isAuthenticated:!I(t.payload.token),isLoading:!0,user:R.constant({token:t.payload.token})},e);case"SET_USER_INFO":return R({isLoading:!1,user:{username:t.payload.username,email:t.payload.email,slug:t.payload.slug,id:t.payload.id,emailVerified:t.payload.emailVerified}},e);case k:return R({isAuthenticated:!1,user:R.constant({})},e);case"FORGOT_PASSWORD_EMAIL_NOT_SENT":return R({forgotPasswordEmailSent:!1,resetPasswordComplete:!1},e);case"FORGOT_PASSWORD_EMAIL_SENT":return R({forgotPasswordEmailSent:!0,resetPasswordComplete:!1},e);case"RESET_PASSWORD_COMPLETE":return R({forgotPasswordEmailSent:!1,resetPasswordComplete:!0},e);case"PASSWORD_NOT_CHANGED":return R({changePasswordComplete:!1,errors:{}},e);case"CHANGE_PASSWORD_COMPLETE":return R({changePasswordComplete:!0},e);case"CONFIRM_EMAIL_NOT_SENT":return R({confirmEmailSent:!1,confirmEmailAlreadyVerified:!1},e);case"CONFIRM_EMAIL_SENT":return R({confirmEmailSent:!0},e);case"CONFIRM_EMAIL_ALREADY_VERIFIED":return R({confirmEmailAlreadyVerified:!0},e);default:return e}},page:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re:return Te({searchTerm:t.payload.searchTerm},e);default:return e}},list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Ie(ke,{});case te:var a=t.payload.entities,n={};return a&&a.list&&(n=a.list),Ie({things:n,isLoading:!1},e);case ae:return Ie({isLoading:!0},e);case ne:return Ie({isLoading:!1},e);case se:return Ie({isLoading:!0,things:Ie.constant({})},e);case ie:return Ie({isLoading:!1},e);case oe:return Ie(e,e);case le:var s=t.payload.list;return Ie({things:Object(F.a)({},s.id,s)},e);case ce:return Ie({things:Ie.omit([t.payload.id])},e);case ue:var i=t.payload.id;return Ie({things:Object(F.a)({},i,{is_public:t.payload.is_public})},e);case Y:var r=t.payload.item;return Ie.updateIn("things.".concat(r.list,".item"),function(e){return[].concat(e,r.id)},e);case pe:var o={name:t.payload.name,description:t.payload.description,is_public:t.payload.is_public,modified_by:t.payload.modified_by,modified_at:t.payload.modified_at,parent_item:t.payload.parent_item};return Ie({things:Object(F.a)({},t.payload.id,o)},e);case B:var l=t.payload.items,c=l[0].list_id;return Ie.updateIn("things.".concat(c,".item"),function(t){var a=[].concat(e.things[c].item);return l.map(function(e){a[e.order-1]=e.id}),a},e);case me:var u=t.payload.entities,p={};return u&&u.list&&(p=u.list),Ie({organizerData:p,isLoading:!1},e);case de:return Ie({organizerData:Ie.constant({})},e);case he:return Ie(e,e);default:return e}},item:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Q(X,{});case te:var a=t.payload.entities;return a&&a.item?Q({things:a.item,isLoading:!1},e):e;case se:return Q({things:Q.constant({})},e);case Y:var n=t.payload.item;return Q({things:Object(F.a)({},n.id,n)},e);case J:var s={name:t.payload.name,description:t.payload.description,modified_at:t.payload.modified_at,order:t.payload.order};return Q({things:Object(F.a)({},t.payload.id,s)},e);case B:var i=t.payload.items,r={};return i.map(function(e){r[e.id]=e}),Q({things:r},e);case me:var o=t.payload.entities;return o&&o.item?Q({organizerData:o.item,isLoading:!1},e):e;default:return e}}}),Pe=Object(E.composeWithDevTools)({});var Re=Object(f.createStore)(Me,Pe(Object(f.applyMiddleware)(v.a))),xe=a(357),Ue=a(365),Fe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={showDropdown:!1},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"showDropdown",value:function(e){e.preventDefault(),this.setState(function(e){return{showDropdown:!e.showDropdown}})}},{key:"onLogout",value:function(e){e.preventDefault(),this.props.logoutUser(this.props.history)}},{key:"render",value:function(){var e=this,t=this.props.auth,a=t.isAuthenticated,n=t.user,i=s.a.createElement("ul",{className:"navbar-nav ml-auto"},n.username&&s.a.createElement("li",{className:"nav-item"},s.a.createElement(xe.a,{to:"/account",className:"nav-link"},n.username)),s.a.createElement("li",{className:"nav-item"},s.a.createElement(xe.a,{to:"/",className:"nav-link",onClick:this.onLogout.bind(this)},"Logout"))),r=s.a.createElement("ul",{className:"navbar-nav ml-auto"},s.a.createElement("li",{className:"nav-item"},s.a.createElement(xe.a,{className:"nav-link",to:"/register"},"Register")),s.a.createElement("li",{className:"nav-item"},s.a.createElement(xe.a,{className:"nav-link",to:"/login"},"Login")));return s.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-light bg-light"},s.a.createElement(xe.a,{className:"navbar-brand",to:"/"},"My Top Tens"),s.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",onClick:function(t){e.showDropdown(t)}},s.a.createElement("span",{className:"navbar-toggler-icon"})),s.a.createElement("div",{className:"collapse navbar-collapse ".concat(this.state.showDropdown?"show":""),id:"navbarSupportedContent"},a?i:r,s.a.createElement("form",{className:"form-inline my-2 my-lg-0"},s.a.createElement("input",{className:"form-control mr-sm-2",type:"search",placeholder:"Search","aria-label":"Search"}),s.a.createElement("button",{className:"btn btn-outline-success my-2 my-sm-0",type:"submit"},"Search"))))}}]),t}(n.Component),ze=Object(h.b)(function(e){return{auth:e.auth}},{logoutUser:S})(Object(Ue.a)(Fe)),Ve=a(9),qe=a(358),He=a(359),Ge=a(360),We=a(361),Ye=a(364),Je=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={isValidated:!1},e.customMessages={},e.getCustomMessage=function(t){if(t.validity.customError)return t.validationMessage;if(t.validity.typeMismatch)return e.customMessages["".concat(t.type,"Mismatch")];for(var a in e.customMessages)if(t.validity[a])return e.customMessages[a]},e.validate=function(){var t=r.a.findDOMNode(Object(Ve.a)(e)),a=t.length;if(!1===t.checkValidity()){for(var n=0;n<a;n++){var s=t[n],i=s.parentNode.querySelector(".invalid-feedback");if(i&&"button"!==s.nodeName.toLowerCase())if(s.validity.valid)i.textContent="";else{var o=e.getCustomMessage(s)||s.validationMessage;i.textContent=o}}return!1}for(var l=0;l<a;l++){var c=t[l],u=c.parentNode.querySelector(".invalid-feedback");u&&"button"!==c.nodeName.toLowerCase()&&(u.textContent="")}return!0},e.handleSubmit=function(t){t.preventDefault(),e.validate()&&e.props.onSubmit(t),e.setState({isValidated:!0})},e.validate=e.validate.bind(Object(Ve.a)(e)),e.checkFieldMatch=e.checkFieldMatch.bind(Object(Ve.a)(e)),e}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(this.props.inputsmustmatch){var t=r.a.findDOMNode(this),a=this.props.inputsmustmatch.input1,n=this.props.inputsmustmatch.input2,s=t.querySelector("#".concat(a)),i=t.querySelector("#".concat(n));s instanceof HTMLElement&&i instanceof HTMLElement&&(s.oninput=function(t){return e.checkFieldMatch(a,n,t)},i.oninput=function(t){return e.checkFieldMatch(a,n,t)})}}},{key:"checkFieldMatch",value:function(e,t,a){var n=r.a.findDOMNode(this);if(n instanceof HTMLElement){var s=n.querySelector("#".concat(e)),i=n.querySelector("#".concat(t));s instanceof HTMLElement&&i instanceof HTMLElement&&(s.value===i.value?i.setCustomValidity(""):i.setCustomValidity(this.props.inputsmustmatch.message))}}},{key:"render",value:function(){var e=Object(U.a)({},this.props),t=[];return e.className&&(t=Object(b.a)(e.className),delete e.className),this.state.isValidated&&t.push("was-validated"),s.a.createElement("form",Object.assign({},e,{className:t,noValidate:!0,onSubmit:this.handleSubmit}),this.props.children)}}]),t}(n.Component),Be=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={username:"",email:"",password:"",password_confirm:""},e.handleInputChange=e.handleInputChange.bind(Object(Ve.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(Ve.a)(e)),e}return Object(p.a)(t,e),Object(l.a)(t,[{key:"handleInputChange",value:function(e){this.setState(Object(F.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t={username:this.state.username,email:this.state.email,password1:this.state.password,password2:this.state.password_confirm};this.props.registerUser(t,this.props.history)}},{key:"componentWillReceiveProps",value:function(e){e.auth.isAuthenticated&&this.props.history.push("/")}},{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/")}},{key:"render",value:function(){return s.a.createElement(qe.a,null,s.a.createElement("h2",null,"Create an account"),s.a.createElement(Je,{onSubmit:this.handleSubmit,inputsmustmatch:{input1:"password",input2:"password_confirm",message:"Passwords must match"}},s.a.createElement(He.a,null,s.a.createElement(Ge.a,{md:"9",lg:"6"},s.a.createElement("div",{className:"form-group"},s.a.createElement(We.a,{for:"email"},"Email address"),s.a.createElement(Ye.a,{type:"email",name:"email",required:!0,id:"email",onChange:this.handleInputChange,value:this.state.email,placeholder:"Enter your email address"}),s.a.createElement("div",{className:"invalid-feedback"}),s.a.createElement("small",{className:"form-text text-muted"},s.a.createElement("p",null,"You will use your email address to login. It will not be seen by other users."))))),s.a.createElement(He.a,null,s.a.createElement(Ge.a,{md:"9",lg:"6"},s.a.createElement("div",{className:"form-group"},s.a.createElement(We.a,{for:"username"},"Username"),s.a.createElement(Ye.a,{type:"text",name:"username",id:"username",required:!0,onChange:this.handleInputChange,value:this.state.username,placeholder:"Enter your username"}),s.a.createElement("div",{className:"invalid-feedback"}),s.a.createElement("small",{className:"form-text text-muted"},s.a.createElement("p",null,"Your username may be seen by other users, for example in comments."))))),s.a.createElement(He.a,null,s.a.createElement(Ge.a,{md:"9",lg:"6"},s.a.createElement("div",{className:"form-group"},s.a.createElement(We.a,{for:"password"},"Password"),s.a.createElement(Ye.a,{type:"password",name:"password",required:!0,minLength:8,pattern:".*[^0-9].*",id:"password",value:this.state.password,placeholder:"Enter your password",onChange:this.handleInputChange}),s.a.createElement("div",{className:"invalid-feedback"})))),s.a.createElement(He.a,null,s.a.createElement(Ge.a,{md:"9",lg:"6"},s.a.createElement("div",{className:"form-group"},s.a.createElement(We.a,{for:"password_confirm"},"Confirm your password"),s.a.createElement(Ye.a,{type:"password",name:"password_confirm",id:"password_confirm",required:!0,minLength:8,pattern:".*[^0-9].*",value:this.state.password_confirm,placeholder:"Confirm your password",onChange:this.handleInputChange}),s.a.createElement("div",{className:"invalid-feedback"}),s.a.createElement("small",{className:"form-text text-muted"},s.a.createElement("ul",null,s.a.createElement("li",null,"Your password can't be too similar to your other personal information."),s.a.createElement("li",null,"Your password must contain at least 8 characters."),s.a.createElement("li",null,"Your password can't be a commonly used password."),s.a.createElement("li",null,"Your password can't be entirely numbers.")))))),s.a.createElement(He.a,{md:"9",lg:"6"},s.a.createElement(Ge.a,null,s.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Create account"))),s.a.createElement(He.a,null,s.a.createElement(Ge.a,{md:"9",lg:"6"},this.props.errors.registration&&s.a.createElement("div",{className:"invalid-feedback ",style:{display:"block"}},this.props.errors.registration)))))}}]),t}(n.Component),Ke=Object(h.b)(function(e){return{auth:e.auth,errors:e.errors}},{registerUser:function(e,t){return function(a){a(y());var n=new FormData;for(var s in e)n.append(s,e[s]);return _({url:"/api/v1/rest-auth/registration/",data:n,method:"POST"}).then(function(e){return t.push("/welcome"),e}).catch(function(e){return a(g({registration:e.message}))})}}})(Object(Ue.a)(Be)),Ze=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={errors:{}},e}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.auth.isAuthenticated&&this.props.history.push("/")}},{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/")}},{key:"render",value:function(){return s.a.createElement(qe.a,null,s.a.createElement("h2",null,"Welcome to My Top Tens"),s.a.createElement("p",null,"Your account has been created."),s.a.createElement("p",null,"To create lists, you will need to verify your email address. An email containing a verification link has been sent to the email address with which you registered. Please click the link to verify your email address."),s.a.createElement("p",null,"If you do not receive the email within a few minutes, please check your Junk or Spam folder."),s.a.createElement(He.a,null,s.a.createElement(Ge.a,null,s.a.createElement("p",null,"You can request a new registration email by ",s.a.createElement(xe.a,{to:"/login"},"Logging in")," and going to your user account (click your username in the header bar)."))))}}]),t}(n.Component),$e=Object(h.b)(function(e){return{auth:e.auth,errors:e.errors}})(Ze),Qe=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={email:"",password:""},e}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/")}},{key:"componentWillReceiveProps",value:function(e){e.auth.isAuthenticated&&this.props.history.push("/")}},{key:"handleInputChange",value:function(e){this.setState(Object(F.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t={email:this.state.email,password:this.state.password};this.props.loginUser(t,this.props.history)}},{key:"render",value:function(){return s.a.createElement(qe.a,null,s.a.createElement("h2",null,"Login"),s.a.createElement(Je,{onSubmit:this.handleSubmit.bind(this)},s.a.createElement(He.a,null,s.a.createElement(Ge.a,{md:"9",lg:"6"},s.a.createElement("div",{className:"form-group"},s.a.createElement(We.a,{for:"email"},"Email address"),s.a.createElement(Ye.a,{type:"email",name:"email",id:"email",required:!0,onChange:this.handleInputChange.bind(this),value:this.state.email,placeholder:"Email address or username"}),s.a.createElement("div",{className:"invalid-feedback"})))),s.a.createElement(He.a,null,s.a.createElement(Ge.a,{md:"9",lg:"6"},s.a.createElement("div",{className:"form-group"},s.a.createElement(We.a,{for:"password"},"Password"),s.a.createElement(Ye.a,{type:"password",name:"password",required:!0,id:"password",value:this.state.password,placeholder:"Password",onChange:this.handleInputChange.bind(this)}),s.a.createElement("div",{className:"invalid-feedback"})))),s.a.createElement(He.a,null,s.a.createElement(Ge.a,{md:"9",lg:"6"},s.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Login"))),s.a.createElement(He.a,null,s.a.createElement(Ge.a,{md:"9",lg:"6"},this.props.errors.authentication&&s.a.createElement("div",{className:"invalid-feedback ",style:{display:"block"}},this.props.errors.authentication)))),s.a.createElement(xe.a,{className:"nav-link",to:"/forgotpassword"},"Forgot password?"))}}]),t}(n.Component),Xe=Object(h.b)(function(e){return{auth:e.auth,errors:e.errors}},{loginUser:function(e,t){return function(a){a(y());var n=new FormData;for(var s in e)n.append(s,e[s]);return _({url:"/api/v1/rest-auth/login/",data:n,method:"POST",useAuth:!1}).then(function(e){return a(N(e.key))}).then(function(){return t.push("/"),Re.dispatch(L())}).catch(function(e){return a(g({authentication:"Unable to log in with the provided credentials, please try again."}))})}}})(Qe),et=function(e){var t=e.children,a=(e.is_public,e.headerText);return s.a.createElement(qe.a,{className:"lists-list"},a&&s.a.createElement(He.a,null,s.a.createElement(Ge.a,null,s.a.createElement("h3",{className:"lists-list-name"},a))),s.a.createElement(He.a,null,t))},tt=(a(267),function(e){var t="select-".concat(e.list.id),a=e.list.is_public?"Public":"Private";return s.a.createElement("div",{className:"list-status"},s.a.createElement(We.a,null,"Set list private/public status",s.a.createElement("select",{className:"form-control",value:a,onChange:function(t){var a="Public"===t.target.value;e.onIsPublicChange({id:e.list.id,is_public:a})},id:t},q.map(function(e){return s.a.createElement("option",{key:e,value:e},e)}))))});function at(e){var t=Object.keys(e)[0],a=e[t],n=Re.getState(),s=n.list.things,i=n.auth.user.id,r=!1;if(Object.keys(s).length>0){var o=G({parentObject:s,property:t,value:a});o&&(o.is_public||o.created_by===i)&&(r=!0)}return r}function nt(e){var t=Object.keys(e)[0],a=e[t],n=Re.getState(),s=n.list.things,i=n.auth.user.id,r=!1;if(Object.keys(s).length>0){var o=G({parentObject:s,property:t,value:a});o&&o.created_by===i&&(r=!0)}return r}function st(){var e=Re.getState();return!(!e.auth.isAuthenticated||!e.auth.user.emailVerified)}a(268);var it=function(e){var t=nt({id:e.list.id});return s.a.createElement(Ge.a,{sm:"12",md:"6"},s.a.createElement("div",{className:"list-summary"},s.a.createElement(xe.a,{to:"/list/".concat(e.list.slug)},s.a.createElement("div",{className:"list-header"},s.a.createElement("div",null,e.list.name)),s.a.createElement("div",{className:"list-body"},e.list.description)),e.showCreatedBy&&s.a.createElement("div",{className:"list-created-by"},e.list.created_by_username),t&&s.a.createElement("div",{className:"list-controls"},s.a.createElement(tt,{list:e.list,onIsPublicChange:e.onIsPublicChange}),s.a.createElement("button",{className:"btn btn-danger",onClick:function(t){e.onDeleteList({id:e.list.id,name:e.list.name})}},"Delete"))))},rt=(a(269),function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onSearch=function(e){a.props.onSearch(e.target.value)},a.onAddList=function(){a.props.history.push("/newlist")},a.getListsToShow=function(e){var t=[];return a.state.topLevelListsOnly?(e.map(function(e){e.parent_item||t.push(e)}),t):e},a.handleTabClick=function(e){a.state.selectedTab!==e.target.id&&(a.setState({selectedTab:e.target.id}),a.setListSetURL(e.target.id))};var n="public-lists";e.auth.isAuthenticated&&(n=new URLSearchParams(a.props.location.search).get("listset")||"my-lists");return a.setListSetURL(n),a.state={selectedTab:n,topLevelListsOnly:!0},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e){e.auth.isAuthenticated&&!this.props.auth.isAuthenticated&&(this.setState({selectedTab:"public-lists"}),this.setListSetURL("public-lists"))}},{key:"renderPublicLists",value:function(){var e=this.props,t=e.publicLists,a=e.onIsPublicChange,n=e.onDeleteList,i=this.getListsToShow(t);return s.a.createElement(et,{headerText:"All public lists"},i.map(function(e){return s.a.createElement(it,{key:e.id,list:e,onIsPublicChange:a,onDeleteList:n,showCreatedBy:!0})}))}},{key:"renderMyLists",value:function(){var e=this,t=this.props,a=t.myLists,n=t.onIsPublicChange,i=t.onDeleteList;return Object.keys(a).map(function(t,r){var o=a[t],l="true"===t?"My public lists":"My private lists",c=e.getListsToShow(o);return s.a.createElement("div",{key:r},c.length>0&&s.a.createElement(et,{is_public:t,headerText:l},c.map(function(e){return s.a.createElement(it,{key:e.id,list:e,onIsPublicChange:n,onDeleteList:i})})))})}},{key:"setListSetURL",value:function(e){var t="".concat(this.props.location.pathname,"?listset=").concat(e);this.props.history.push(t)}},{key:"handleTopLevelListsChange",value:function(){this.setState({topLevelListsOnly:!this.state.topLevelListsOnly})}},{key:"renderTabs",value:function(){return s.a.createElement("ul",null,s.a.createElement("li",null,s.a.createElement("span",{className:"my-lists"===this.state.selectedTab?"selected":"",id:"my-lists",onClick:this.handleTabClick},"My lists"),s.a.createElement("span",{className:"public-lists"===this.state.selectedTab?"selected":"",id:"public-lists",onClick:this.handleTabClick},"Public lists")))}},{key:"render",value:function(){var e,t;return"my-lists"===this.state.selectedTab?e=this.renderMyLists():"public-lists"===this.state.selectedTab&&(e=this.renderPublicLists()),this.props.isLoading?s.a.createElement("div",{className:"lists-loading"},"Loading..."):(t=this.props.canCreateList()?s.a.createElement("button",{className:"btn btn-primary create-list",onClick:this.onAddList},"+ New list"):this.props.auth.isAuthenticated?s.a.createElement("div",null,"In order to create new lists, please verify your email address by clicking the link in the email you were sent when you registered. You can request a new verification email from your ",s.a.createElement(xe.a,{to:"/account"},"Account")," page."):s.a.createElement("div",null,"In order to create new lists, please ",s.a.createElement(xe.a,{to:"/login"},"log in")," or ",s.a.createElement(xe.a,{to:"/register"},"register a My Top Tens account"),"."),s.a.createElement("div",{className:"lists-list"},s.a.createElement(qe.a,null,s.a.createElement(He.a,null,s.a.createElement(Ge.a,{className:"top-level-lists-control"},s.a.createElement(We.a,{check:!0},s.a.createElement(Ye.a,{type:"checkbox",defaultChecked:this.state.topLevelListsOnly,onChange:this.handleTopLevelListsChange.bind(this)})," ","Show top level lists only"))),s.a.createElement(He.a,null,s.a.createElement(Ge.a,{sm:"12",md:"9"},s.a.createElement("div",{className:"search"},s.a.createElement(Ye.a,{className:"form-control",onChange:this.onSearch,type:"text",placeholder:"Search..."})))),s.a.createElement(He.a,null,s.a.createElement(Ge.a,null,t))),this.props.auth.isAuthenticated&&s.a.createElement("div",{className:"tabs"},this.renderTabs(),s.a.createElement("div",{className:"clearing"})),s.a.createElement("div",{className:"lists"},e)))}}]),t}(n.Component)),ot=Object(Ue.a)(rt);function lt(e){var t=e.message,a=e.type,n=e.onClick;return s.a.createElement("div",{className:"flash-error ".concat(a)},s.a.createElement("span",null,t),s.a.createElement("button",{type:"button",className:"close","aria-label":"Close",onClick:n},s.a.createElement("span",{"aria-hidden":"true"},"\xd7")))}var ct=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this))).onSearch=function(e){a.props.dispatch(function(e){return{type:re,payload:{searchTerm:e}}}(e))},a.onIsPublicChange=function(e){var t=e.id,n=e.is_public;a.props.dispatch(Ce({id:t,is_public:n}))},a.onDeleteList=function(e){var t=e.id,n=e.name;confirm("Are you sure you want to delete the list ".concat(n))&&a.props.dispatch(we(t))},a.onCloseFlashMessage=function(){a.props.dispatch(y())},e.dispatch(y()),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(be())}},{key:"componentDidUpdate",value:function(e){e.auth.user.token!==this.props.auth.user.token&&this.props.dispatch(be())}},{key:"render",value:function(){return s.a.createElement("div",null,!I(this.props.errors)&&s.a.createElement(qe.a,null,s.a.createElement(He.a,null,s.a.createElement(Ge.a,null,s.a.createElement(lt,{message:C(this.props.errors),type:"error",onClick:this.onCloseFlashMessage})))),s.a.createElement(ot,{auth:this.props.auth,myLists:this.props.myLists,publicLists:this.props.publicLists,canCreateList:st,onSearch:this.onSearch,onCreateList:this.onCreateList,onIsPublicChange:this.onIsPublicChange,onDeleteList:this.onDeleteList,isLoading:this.props.isLoading}))}}]),t}(n.Component),ut=Object(h.b)(function(e){return{auth:e.auth,errors:e.errors,isLoading:e.list.isLoading,publicLists:Se(e),myLists:Le(e)}})(ct),pt=(a(270),function(e){function t(e){var a,n;Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onCreateList=function(e){a.props.dispatch(ye(e,a.props.history))},a.onCloseFlashMessage=function(){a.props.dispatch(y())},a.state={name:"",description:""};for(var s=1;s<=H;s++)a.state["item".concat(s,"_name")]="",a.state["item".concat(s,"_description")]="";(a.handleInputChange=a.handleInputChange.bind(Object(Ve.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(Ve.a)(a)),a.cancel=a.cancel.bind(Object(Ve.a)(a)),e.dispatch(y()),e.auth.isAuthenticated)&&(n=new URLSearchParams(e.location.search).get("parent-item"));return"string"===typeof n&&(a.state.parentItem=n),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"handleInputChange",value:function(e){this.setState(Object(F.a)({},e.target.name,e.target.value))}},{key:"cancel",value:function(e){this.props.history.push("/")}},{key:"handleSubmit",value:function(e){e.preventDefault();for(var t={name:this.state.name,description:this.state.description,item:[]},a=1;a<=H;a++)if(""!==this.state["item".concat(a)]){var n={name:this.state["item".concat(a,"_name")],description:this.state["item".concat(a,"_description")],order:a};t.item.push(n)}this.state.parentItem&&(t.parent_item=this.state.parentItem),this.onCreateList(t)}},{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e){st()||this.props.auth.isLoading||this.props.history.push("/")}},{key:"renderItemInputs",value:function(){for(var e=[],t=1;t<=H;t++)e.push(s.a.createElement("div",{className:"form-group",key:"item".concat(t)},s.a.createElement(He.a,null,s.a.createElement(Ge.a,{lg:"9"},s.a.createElement("h3",null,"Item ",t),s.a.createElement(We.a,{for:"item".concat(t,"_name")},"Name"),s.a.createElement(Ye.a,{type:"text",name:"item".concat(t,"_name"),id:"item".concat(t,"_name"),onChange:this.handleInputChange,value:this.state["item".concat(t,"_name")],placeholder:"Name"}),s.a.createElement("div",{className:"invalid-feedback"}))),s.a.createElement(He.a,null,s.a.createElement(Ge.a,{lg:"9"},s.a.createElement(We.a,{for:"item".concat(t,"_description")},"Description"),s.a.createElement(Ye.a,{type:"textarea",name:"item".concat(t,"_description"),id:"item".concat(t,"_description"),onChange:this.handleInputChange,value:this.state["item".concat(t,"_description")],placeholder:"Description"}),s.a.createElement("div",{className:"invalid-feedback"})))));return e}},{key:"render",value:function(){return s.a.createElement(qe.a,null,!I(this.props.errors)&&s.a.createElement(qe.a,null,s.a.createElement(He.a,null,s.a.createElement(Ge.a,null,s.a.createElement(lt,{message:C(this.props.errors),type:"error",onClick:this.onCloseFlashMessage})))),s.a.createElement("h2",null,"Create a new list"),s.a.createElement(Je,{onSubmit:this.handleSubmit},s.a.createElement("div",{className:"form-group"},s.a.createElement(He.a,null,s.a.createElement(Ge.a,{lg:"9"},s.a.createElement(We.a,{for:"name"},"Name"),s.a.createElement(Ye.a,{type:"text",name:"name",required:!0,id:"name",onChange:this.handleInputChange,value:this.state.name,placeholder:"Enter the list name"}),s.a.createElement("div",{className:"invalid-feedback"}),s.a.createElement("small",{className:"form-text text-muted"},s.a.createElement("p",null,"Name is required"))))),s.a.createElement("div",{className:"form-group"},s.a.createElement(He.a,null,s.a.createElement(Ge.a,{lg:"9"},s.a.createElement(We.a,{for:"username"},"Description"),s.a.createElement(Ye.a,{type:"textarea",name:"description",id:"description",onChange:this.handleInputChange,value:this.state.description,placeholder:"Enter the list description"}),s.a.createElement("div",{className:"invalid-feedback"})))),this.renderItemInputs(),s.a.createElement(He.a,null,s.a.createElement(Ge.a,{lg:"9"},s.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.cancel},"Cancel"),s.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Save list"))),s.a.createElement(He.a,null,s.a.createElement(Ge.a,{lg:"9"},this.props.errors.lists&&s.a.createElement("div",{className:"invalid-feedback ",style:{display:"block"}},this.props.errors.lists)))))}}]),t}(n.Component)),mt=Object(h.b)(function(e){return{auth:e.auth,errors:e.errors}})(Object(Ue.a)(pt)),dt=(a(271),a(133)),ht=a.n(dt),ft=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this))).cancel=function(){var e={target:{dataset:{state:a.props["data-state"]},value:a.state.initialValue}};a.props.handleInputChange(e),a.toggleInput()},a.validate=function(){var e=r.a.findDOMNode(Object(Ve.a)(a)).querySelector(a.state.type),t=e.parentNode.querySelector(".invalid-feedback");if(e.validity.valid)return t.textContent="",!0;var n=e.validationMessage;return t.textContent=n,!1},a.state={showInput:!1,isValidated:!1,initialValue:"",overflowActive:!1,type:e.textarea?"textarea":"input"},!0===e.textarea&&(a.state.expanded=!1),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"isOverflowActive",value:function(){if(!this.props.textarea)return!1;var e=this.textElement;if(!e)return!1;var t=e.offsetHeight<e.scrollHeight;t!==this.state.overflowActive&&this.setState({overflowActive:t})}},{key:"toggleMore",value:function(){this.setState({expanded:!this.state.expanded})}},{key:"componentDidMount",value:function(){this.isOverflowActive()}},{key:"componentDidUpdate",value:function(){this.isOverflowActive()}},{key:"onKeyUp",value:function(e){13===(e.keyCode||e.which)&&this.showInput(e)}},{key:"showInput",value:function(e){e.target.classList.contains("placeholder")||this.setState({initialValue:e.target.textContent}),this.toggleInput()}},{key:"toggleInput",value:function(){var e=!this.state.showInput;"function"===typeof this.props.isEditing&&this.props.isEditing(e),this.setState({showInput:e})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=e.target.querySelector(this.state.type);this.validate()&&(this.props.handleNewValue(t),this.toggleInput()),this.setState({isValidated:!0})}},{key:"renderValue",value:function(){var e=this,t="";this.state.expanded&&(t="expanded");var a=!1;(this.state.overflowActive||this.state.expanded)&&(a=!0);var n,i,r="More...";this.state.expanded&&(r="Less...");var o="";return this.props.canEdit&&(o="0",n=this.showInput.bind(this),i=this.onKeyUp.bind(this)),s.a.createElement("span",null,s.a.createElement("span",{className:"text ".concat(t),ref:function(t){return e.textElement=t},onKeyUp:i,onClick:n,tabIndex:o},s.a.createElement(ht.a,{escapeHtml:!0,source:this.props.value}),a&&s.a.createElement("span",{className:"fader"})),a&&s.a.createElement("button",{type:"button",className:"show-more",onClick:this.toggleMore.bind(this)},r))}},{key:"render",value:function(){var e="text";this.props.textarea&&(e="textarea");var t=[];this.props.className&&(t=Object(b.a)(this.props.className),delete this.props.className),this.state.isValidated&&t.push("was-validated");var a,n=this.state.showInput;return this.props.canEdit?a=n?s.a.createElement("form",{noValidate:!0,onSubmit:this.handleSubmit.bind(this),className:t},s.a.createElement(He.a,null,s.a.createElement(Ge.a,null,s.a.createElement("div",{className:"form-group"},s.a.createElement(We.a,{for:this.props.id},this.props.label),s.a.createElement(Ye.a,{autoFocus:!0,type:e,name:this.props.id,required:this.props.required,"data-state":this.props["data-state"],"data-entityid":this.props["data-entityid"],id:this.props.id,onChange:this.props.handleInputChange,value:this.props.value,placeholder:this.props.placeholder}),s.a.createElement("div",{className:"invalid-feedback"})))),s.a.createElement(He.a,null,s.a.createElement(Ge.a,{className:"controls"},s.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.cancel},"Cancel"),s.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Done"),s.a.createElement("span",{className:"hint"},"You can use ",s.a.createElement(xe.a,{to:"https://help.github.com/articles/basic-writing-and-formatting-syntax/"},"Markdown"))))):""!==this.props.value?this.renderValue():s.a.createElement("span",{className:"placeholder",tabIndex:"0",onClick:this.showInput.bind(this),onKeyUp:this.onKeyUp.bind(this)},this.props.placeholder):""!==this.props.value&&(a=this.renderValue()),s.a.createElement("div",{className:"editable-text-field ".concat(n&&"editing")},a)}}]),t}(n.Component),Et=(a(351),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this))).onCreateChildList=function(){a.props.onCreateChildList(a.props.item.id)},a.onMoveUp=function(){a.props.onMoveItemUp(a.props.item.id)},a.onMoveDown=function(){a.props.onMoveItemDown(a.props.item.id)},a.state={isEditingName:!1},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"setIsEditingName",value:function(e){this.setState({isEditingName:e})}},{key:"render",value:function(){var e=!0;""===this.props.item.name?e=!1:this.state.isEditingName&&Re.getState().item.things[this.props.item.id]&&""===Re.getState().item.things[this.props.item.id].name&&(e=!1);var t=!0;(this.props.item.childList||""===this.props.item.name||this.state.isEditingName||!this.props.canEdit)&&(t=!1);var a,n=!1;this.props.item.childList&&at({slug:this.props.item.childList.slug})&&(n=!0),t?a=s.a.createElement("button",{className:"btn btn-primary create-childlist",onClick:this.onCreateChildList.bind(this)},"Create child list"):n&&(a=s.a.createElement("div",{className:"child-list"},s.a.createElement(xe.a,{to:"/list/".concat(this.props.item.childList.slug)},this.props.item.childList.name," >")));var i=!0,r=!0;return this.props.canEdit&&""!==this.props.item.name&&e?1===this.props.item.order?i=!1:this.props.item.order===H&&(r=!1):(i=!1,r=!1),s.a.createElement("div",{className:"item-container"},s.a.createElement("div",{className:"item-header"},s.a.createElement("span",{className:"order"},this.props.item.order,":"),s.a.createElement(ft,{canEdit:this.props.canEdit,name:"".concat(this.props.item.order,"_name"),label:"Item name",placeholder:"Click here to add an item","data-state":"".concat(this.props.item.order,"_name"),"data-entityid":this.props.item.id,id:"".concat(this.props.item.order,"_name"),handleInputChange:this.props.handleInputChange,handleNewValue:this.props.handleNewValue,isEditing:this.setIsEditingName.bind(this),value:this.props.item.name})),a,e&&s.a.createElement("div",{className:"item-body"},s.a.createElement(ft,{textarea:!0,canEdit:this.props.canEdit,name:"".concat(this.props.item.order,"_description"),placeholder:"Click here to add a description",label:"Item description","data-state":"".concat(this.props.item.order,"_description"),"data-entityid":this.props.item.id,id:"".concat(this.props.item.order,"_description"),handleInputChange:this.props.handleInputChange,handleNewValue:this.props.handleNewValue,value:this.props.item.description})),i&&s.a.createElement("button",{className:"btn btn-secondary move-up",onClick:this.onMoveUp.bind(this)},"Up"),r&&s.a.createElement("button",{className:"btn btn-secondary move-down",onClick:this.onMoveDown.bind(this)},"Down"))}}]),t}(n.Component)),vt=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onMoveItemUp=function(e){a.props.dispatch(Z({itemId:e}))},a.onMoveItemDown=function(e){a.props.dispatch($({itemId:e}))},a.handleInputChange=function(e){a.setState(Object(F.a)({},e.target.dataset.state,e.target.value))},a.handleNewValue=function(e){var t=e.dataset.entityid,n=e.dataset.state.split("_")[1],s=e.value;a.props.dispatch(K(t,n,s))},a.toggleForm=function(){a.setState({showNewItemForm:!a.state.showNewItemForm})},a.state={};for(var n=1;n<=H;n++)a.state["".concat(n,"_name")]="",a.state["".concat(n,"_description")]="";var s=a.props.items;return Object.keys(s).forEach(function(e){if(s[e].order&&s[e].order<=H){var t=s[e].order;a.state["".concat(t,"_id")]=s[e].id,a.state["".concat(t,"_name")]=s[e].name,a.state["".concat(t,"_description")]=s[e].description,s[e].childList&&(a.state["".concat(t,"_childList")]=s[e].childList)}}),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e){for(var t=[],a=0;a<this.props.items.length;a++){var n=this.props.items[a];if(e.items[a].id!==this.props.items[a].id){var s=n.order;t["".concat(s,"_id")]=n.id,t["".concat(s,"_name")]=n.name,t["".concat(s,"_description")]=n.description,t["".concat(s,"_childList")]=n.childList}}Object.keys(t).length>0&&this.setState(t)}},{key:"renderItemsList",value:function(){for(var e=[],t=1;t<=H;t++){var a=this.state["".concat(t,"_name")],n=this.props.canEdit;(a||n)&&e.push(s.a.createElement(He.a,{key:"item".concat(t)},s.a.createElement(Ge.a,null,s.a.createElement(Et,{key:"item".concat(t),item:{id:this.state["".concat(t,"_id")],order:t,name:a,description:this.state["".concat(t,"_description")],childList:this.state["".concat(t,"_childList")]},handleInputChange:this.handleInputChange,handleNewValue:this.handleNewValue,list:this.props.list,canEdit:n,onCreateChildList:this.props.onCreateChildList,onMoveItemUp:this.onMoveItemUp,onMoveItemDown:this.onMoveItemDown}))))}return e}},{key:"render",value:function(){return s.a.createElement("div",{className:"items-list"},this.renderItemsList())}}]),t}(n.Component),bt=Object(h.b)()(vt),gt=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this))).state={showItems:e.showItems},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"onShowItems",value:function(){this.setState({showItems:!this.state.showItems})}},{key:"onSelectItem",value:function(e){this.props.onSelectItem({list:this.props.list,order:e.target.dataset.order,childListId:e.target.dataset.childlistid})}},{key:"renderItems",value:function(){var e=this,t=parseInt(this.props.selectedItemOrder),a=this.props.list.id,n=this.props.selectedListId;return s.a.createElement("div",{className:"items"},this.props.itemOrganizerData[a].map(function(i){var r,o=a===n&&i.order===t;if(i.childListId){var l=e.props.listOrganizerData.find(function(e){return e.id===i.childListId});r=s.a.createElement("span",{className:"child-list"},"> ",l.name)}if(i.name)return s.a.createElement("div",{key:i.id,className:"item ".concat(o?"selected":"")},s.a.createElement("span",{onClick:e.onSelectItem.bind(e),"data-order":i.order,"data-childlistid":i.childListId},s.a.createElement("span",{className:"order"},i.order,":"),i.name),r)}))}},{key:"render",value:function(){var e=this.props.list.name,t="+";return this.state.showItems&&(t="-"),s.a.createElement(He.a,{className:"organizer-list"},s.a.createElement(Ge.a,null,s.a.createElement("button",{className:"btn btn-light show-items",onClick:this.onShowItems.bind(this)},t),s.a.createElement("div",{className:"name"},e),this.state.showItems&&this.renderItems()))}}]),t}(n.Component),yt=(a(352),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).componentDidUpdate=function(e){(0===e.listOrganizerData.length&&0!==a.props.listOrganizerData.length||e.list.parent_item!==a.props.list.parent_item)&&a.setState({parentListId:a.props.parentListId,selectedItemOrder:a.selectedItemOrder()})},a.onClickOrganize=function(){a.setState({showOrganizer:!0})},a.onClickCancel=function(){a.setState({showOrganizer:!1})},a.onClickDone=function(){if(a.state.selectedItemChildListId){var e=a.props.listOrganizerData.find(function(e){return e.id===a.state.selectedItemChildListId});confirm("The existing child list '".concat(e.name,"' will become a top level list. Are you sure you want to continue?"))&&a.setParentItem()}else a.setParentItem()},a.onSelectParentItem=function(e){var t=e.list,n=e.order,s=e.childListId;a.setState({parentItemId:t.item[n-1],parentListId:t.id,selectedItemChildListId:s,selectedItemOrder:n})},a.state={showOrganizer:!1,parentItemId:e.list.parent_item,parentListId:e.parentListId,selectedItemChildListId:void 0,selectedItemOrder:void 0},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"setParentItem",value:function(){this.setState({showOrganizer:!1}),this.props.dispatch(Oe(this.props.list.id,"parent_item_id",this.state.parentItemId))}},{key:"selectedItemOrder",value:function(){var e,t=this;if(this.props.parentListId){var a=this.state.parentItemId;-1!==(e=this.props.listOrganizerData.find(function(e){return e.id===t.props.parentListId}).item.indexOf(a))&&(e+=1)}return e}},{key:"renderLists",value:function(){var e=this;return s.a.createElement("div",{className:"lists"},s.a.createElement("span",null,"Select a new parent item for this list: "),this.props.listOrganizerData.map(function(t){var a=t.id===e.state.parentListId;return s.a.createElement(gt,{list:t,listOrganizerData:e.props.listOrganizerData,itemOrganizerData:e.props.itemOrganizerData,key:t.id,selectedListId:e.state.parentListId,selectedItemOrder:e.state.selectedItemOrder,onSelectItem:e.onSelectParentItem.bind(e),showItems:a})}))}},{key:"render",value:function(){var e;return e=this.state.showOrganizer?s.a.createElement(He.a,null,s.a.createElement(Ge.a,null,s.a.createElement("div",{className:"controls"},s.a.createElement("button",{className:"btn btn-secondary",onClick:this.onClickCancel.bind(this)},"Cancel"),s.a.createElement("button",{className:"btn btn-primary",onClick:this.onClickDone.bind(this)},"Done")))):s.a.createElement(He.a,null,s.a.createElement(Ge.a,null,s.a.createElement("div",{className:"controls"},s.a.createElement("button",{className:"btn btn-secondary",onClick:this.onClickOrganize.bind(this)},"Organize...")))),s.a.createElement("div",{className:"list-organizer ".concat(this.state.showOrganizer?"open":"")},e,this.state.showOrganizer&&this.renderLists())}}]),t}(n.Component)),Ot=Object(h.b)()(yt),wt=(a(353),function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this))).getListData=function(e){var t=e.match.params.slug;return e.dispatch(ge(t)),e.dispatch(y()),t},a.getOrganizerData=function(){a.props.dispatch(_e(a.props.list.created_by)),a.props.dispatch(y())},a.onIsPublicChange=function(e){var t=e.id,n=e.is_public;a.props.dispatch(Ce({id:t,is_public:n}))},a.onDeleteList=function(){var e=a.props.list.id,t=a.props.list.name;if(confirm("Are you sure you want to delete the list ".concat(t,"?"))){if(a.props.dispatch(we(e)),a.props.parentList&&at({id:a.props.parentList.id}))return void a.props.history.push("/list/".concat(a.props.parentList.slug));a.props.history.push("/")}},a.handleInputChange=function(e){a.setState(Object(F.a)({},e.target.dataset.state,e.target.value))},a.handleNewValue=function(e){var t=e.dataset.entityid,n=e.dataset.state.split("_")[1],s=e.value;a.props.dispatch(Oe(t,n,s))},a.onCreateChildList=function(e){a.props.history.push("/newlist?parent-item=".concat(e))},a.onIsPublicChange=function(e){var t=e.id,n=e.is_public;a.props.dispatch(Ce({id:t,is_public:n}))},a.onCloseFlashMessage=function(){a.props.dispatch(y())},a.getListData=a.getListData.bind(Object(Ve.a)(a));var n=a.getListData(e);return a.state={slug:n,showOrganizer:!1},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e){if(e.isLoading&&!this.props.isLoading){this.getOrganizerData();var t=nt({slug:this.state.slug}),a=at({slug:this.state.slug});this.setState({canView:a,canEdit:t}),a&&this.setState({list_name:this.props.list.name,list_description:this.props.list.description})}if(e.match.params.slug!==this.props.match.params.slug){var n=this.getListData(this.props);this.setState({slug:n})}e.auth.isAuthenticated&&!this.props.auth.isAuthenticated&&(this.props.dispatch(ge(this.state.slug)),this.props.dispatch(y()))}},{key:"renderPage",value:function(){if(this.props.list){var e=!1,t="";return this.state.canEdit&&this.props.parentList&&(this.props.list.is_public&&!this.props.parentList.is_public?(t="This public list has a private parent list",e=!0):!this.props.list.is_public&&this.props.parentList.is_public&&(t="This private list has a public parent list",e=!0)),s.a.createElement("div",null,!I(this.props.errors)&&s.a.createElement(qe.a,null,s.a.createElement(He.a,null,s.a.createElement(Ge.a,null,s.a.createElement(lt,{message:C(this.props.errors),type:"error",onClick:this.onCloseFlashMessage})))),this.props.list&&s.a.createElement("div",null,s.a.createElement(qe.a,null,this.props.parentList&&s.a.createElement(He.a,null,s.a.createElement(Ge.a,null,s.a.createElement("div",{className:"breadcrumbs"},s.a.createElement(xe.a,{to:"/list/".concat(this.props.parentList.slug)},this.props.parentList.name)," > ",this.props.parentItem.name))),this.state.canEdit&&s.a.createElement(Ot,{list:this.props.list,parentListId:this.props.parentList?this.props.parentList.id:void 0,listOrganizerData:this.props.listOrganizerData,itemOrganizerData:this.props.itemOrganizerData}),e&&s.a.createElement(He.a,null,s.a.createElement(Ge.a,null,s.a.createElement("div",{className:"privacy-warning"},t))),s.a.createElement(He.a,null,s.a.createElement(Ge.a,{className:"list-name"},s.a.createElement(ft,{canEdit:this.state.canEdit,required:!0,name:"list_name",placeholder:"Click here to add a name for the list",label:"Item name","data-state":"list_name","data-entityid":this.props.list.id,id:"list_name",handleInputChange:this.handleInputChange,handleNewValue:this.handleNewValue,value:this.state.list_name}))),this.state.canEdit&&s.a.createElement(He.a,null,s.a.createElement(Ge.a,null,s.a.createElement("div",{className:"list-detail-controls"},s.a.createElement(tt,{list:this.props.list,onIsPublicChange:this.onIsPublicChange}),s.a.createElement("button",{className:"btn btn-danger",onClick:this.onDeleteList.bind(this)},"Delete")))),s.a.createElement(He.a,null,s.a.createElement(Ge.a,{className:"list-description"},s.a.createElement(ft,{textarea:!0,canEdit:this.state.canEdit,name:"list_description",placeholder:"Click here to add a description for the list",label:"Item description","data-state":"list_description","data-entityid":this.props.list.id,id:"list_description",handleInputChange:this.handleInputChange,handleNewValue:this.handleNewValue,value:this.state.list_description})))),s.a.createElement(qe.a,null,this.props.thisListItems&&s.a.createElement(bt,{items:this.props.thisListItems,list:this.props.list.id,canEdit:this.state.canEdit,onCreateChildList:this.onCreateChildList,onMoveItemUp:this.onMoveItemUp,onMoveItemDown:this.onMoveItemDown}))))}}},{key:"render",value:function(){var e;return e=this.state.canView?this.renderPage():s.a.createElement("p",null,"Either this list does not exist or you do not have permission to view it"),s.a.createElement("div",{className:"list-detail"},e)}}]),t}(n.Component)),Ct=Object(h.b)(function(e,t){var a=G({parentObject:e.list.things,property:"slug",value:t.match.params.slug}),n=function(e,t){var a,n;if(t&&t.parent_item){var s=e.item.organizerData,i=e.list.organizerData;s&&(a=s[t.parent_item])&&(n=i[a.list_id])}return{parentItem:a,parentList:n}}(e,a);return{auth:e.auth,errors:e.errors,isLoading:e.list.isLoading,list:a,thisListItems:De(e,a),parentList:n.parentList,parentItem:n.parentItem,listOrganizerData:je(e),itemOrganizerData:ee(e)}})(Object(Ue.a)(wt)),_t=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={errors:{}},e}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.auth.isAuthenticated||this.props.history.push("/")}},{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated||this.props.history.push("/"),this.props.dispatch({type:"CONFIRM_EMAIL_NOT_SENT"})}},{key:"sendConfirmationEmail",value:function(){this.props.dispatch(P())}},{key:"render",value:function(){var e=this.props.auth.user.emailVerified,t=e?"verified":"unverified";return s.a.createElement(qe.a,null,s.a.createElement("h2",null,"My account"),s.a.createElement(He.a,null,s.a.createElement(Ge.a,null,s.a.createElement("div",null,"Username: ",this.props.auth.user.username))),s.a.createElement(He.a,null,s.a.createElement(Ge.a,null,s.a.createElement(xe.a,{to:"/changepassword"},"Change password"))),s.a.createElement(He.a,null,s.a.createElement(Ge.a,null,s.a.createElement("div",null,"Email address: ",this.props.auth.user.email),s.a.createElement("div",null,"Status: ",t),!e&&s.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.sendConfirmationEmail.bind(this)},"Resend confirmation email"))),this.props.auth.confirmEmailSent&&s.a.createElement("div",{className:"valid-feedback"},"A verification email has been sent to ",this.props.auth.user.email,". If you do not receive the email within a few minutes, please check your Junk or Spam folder."),this.props.auth.confirmEmailAlreadyVerified&&s.a.createElement("div",{className:"valid-feedback"},"The email address ",this.props.auth.user.email," has already been verified."))}}]),t}(n.Component),It=Object(h.b)(function(e){return{auth:e.auth,errors:e.errors,sendConfirmationEmail:P,confirmEmailNotSent:M}})(_t),kt=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).onCloseFlashMessage=function(){e.props.dispatch(y())},e.state={email:"",errors:{}},e.handleInputChange=e.handleInputChange.bind(Object(Ve.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(Ve.a)(e)),e.props.dispatch(y()),e}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.auth.isAuthenticated&&this.props.history.push("/")}},{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/"),this.props.dispatch({type:"FORGOT_PASSWORD_EMAIL_NOT_SENT"})}},{key:"handleInputChange",value:function(e){this.setState(Object(F.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t={email:this.state.email};this.props.dispatch(D(t))}},{key:"render",value:function(){return s.a.createElement(qe.a,null,!I(this.props.errors)&&s.a.createElement(He.a,null,s.a.createElement(Ge.a,null,s.a.createElement(lt,{message:C(this.props.errors),type:"error",onClick:this.onCloseFlashMessage}))),s.a.createElement("h2",null,"Forgot your password?"),s.a.createElement("p",null,"Enter your email address. A reset password link will be emailed to you."),s.a.createElement(Je,{onSubmit:this.handleSubmit},s.a.createElement(He.a,null,s.a.createElement(Ge.a,null,s.a.createElement("div",{className:"form-group"},s.a.createElement(We.a,{for:"email"},"Email address"),s.a.createElement(Ye.a,{type:"email",name:"email",required:!0,id:"email",onChange:this.handleInputChange,value:this.state.email,placeholder:"Enter your email address"}),s.a.createElement("div",{className:"invalid-feedback"})))),s.a.createElement(He.a,null,s.a.createElement(Ge.a,null,s.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Send me a password reset email"))),s.a.createElement(He.a,null,s.a.createElement(Ge.a,null,this.props.errors.email&&s.a.createElement("div",{className:"invalid-feedback",style:{display:"block"}},this.props.errors.email)))),this.props.auth.forgotPasswordEmailSent&&s.a.createElement("div",{className:"valid-feedback"},"If the address ",this.state.email," is associated with an account, an email has been sent. If you don't see it within a few minutes, please check your junk mail folder."))}}]),t}(n.Component),Nt=Object(h.b)(function(e){return{auth:e.auth,errors:e.errors,forgotPassword:D,forgotPasswordEmailNotSent:j}})(kt),St=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={old_password:"",new_password:"",new_password_confirm:""},e.handleInputChange=e.handleInputChange.bind(Object(Ve.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(Ve.a)(e)),e}return Object(p.a)(t,e),Object(l.a)(t,[{key:"handleInputChange",value:function(e){this.setState(Object(F.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t={old_password:this.state.old_password,new_password1:this.state.new_password,new_password2:this.state.new_password_confirm};this.props.changePassword(t,this.props.history)}},{key:"componentWillReceiveProps",value:function(e){e.auth.isAuthenticated||this.props.history.push("/")}},{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated||this.props.history.push("/")}},{key:"render",value:function(){return s.a.createElement(qe.a,null,s.a.createElement("h2",null,"Change your password"),s.a.createElement(Je,{onSubmit:this.handleSubmit,inputsmustmatch:{input1:"new_password",input2:"new_password_confirm",message:"New passwords must match"}},s.a.createElement(He.a,null,s.a.createElement(Ge.a,{md:"9",lg:"6"},s.a.createElement("div",{className:"form-group"},s.a.createElement(We.a,{for:"old_password"},"Old password"),s.a.createElement(Ye.a,{type:"password",name:"old_password",id:"old_password",required:!0,minLength:8,pattern:".*[^0-9].*",value:this.state.old_password,placeholder:"Enter your old password",onChange:this.handleInputChange}),s.a.createElement("div",{className:"invalid-feedback"})))),s.a.createElement(He.a,null,s.a.createElement(Ge.a,{md:"9",lg:"6"},s.a.createElement("div",{className:"form-group"},s.a.createElement(We.a,{for:"new_password"},"New password"),s.a.createElement(Ye.a,{type:"password",name:"new_password",id:"new_password",required:!0,minLength:8,pattern:".*[^0-9].*",value:this.state.new_password,placeholder:"Enter your password",onChange:this.handleInputChange}),s.a.createElement("div",{className:"invalid-feedback"})))),s.a.createElement(He.a,null,s.a.createElement(Ge.a,{md:"9",lg:"6"},s.a.createElement("div",{className:"form-group"},s.a.createElement(We.a,{for:"new_password_confirm"},"Confirm your new password"),s.a.createElement(Ye.a,{type:"password",name:"new_password_confirm",id:"new_password_confirm",required:!0,minLength:8,pattern:".*[^0-9].*",value:this.state.new_password_confirm,placeholder:"Confirm your password",onChange:this.handleInputChange}),s.a.createElement("div",{className:"invalid-feedback"}),s.a.createElement("small",{className:"form-text text-muted"},s.a.createElement("ul",null,s.a.createElement("li",null,"Your password can't be too similar to your other personal information."),s.a.createElement("li",null,"Your password must contain at least 8 characters."),s.a.createElement("li",null,"Your password can't be a commonly used password."),s.a.createElement("li",null,"Your password can't be entirely numbers.")))))),s.a.createElement(He.a,null,s.a.createElement(Ge.a,{md:"9",lg:"6"},s.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Change password now"))),s.a.createElement(He.a,null,s.a.createElement(Ge.a,{md:"9",lg:"6"},this.props.errors.changePassword&&s.a.createElement("div",{className:"invalid-feedback",style:{display:"block"}},this.props.errors.changePassword)))),this.props.auth.changePasswordComplete&&s.a.createElement("div",{className:"valid-feedback"},"Your new password has been saved"))}}]),t}(n.Component),Lt=Object(h.b)(function(e){return{auth:e.auth,errors:e.errors}},{changePassword:function(e){return function(t){t(y()),t(T());var a=new FormData;for(var n in e)a.append(n,e[n]);return _({url:"/api/v1/rest-auth/password/change/",data:a,method:"POST",useAuth:!0}).then(function(e){return t(A()),e}).catch(function(e){return t(g({changePassword:e.message}))})}},passwordNotChanged:T})(Object(Ue.a)(St)),jt=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this))).state={errors:{}},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.onLogout()}},{key:"onLogout",value:function(e){this.props.auth.isAuthenticated&&this.props.logoutUser(this.props.history)}},{key:"render",value:function(){return s.a.createElement(qe.a,null,s.a.createElement("h2",null,"Your email address has been verified"),s.a.createElement(He.a,null,s.a.createElement(Ge.a,null,s.a.createElement(xe.a,{to:"/login",className:"nav-link"},"Login"))))}}]),t}(n.Component),Dt=Object(h.b)(function(e){return{auth:e.auth}},{logoutUser:S})(Object(Ue.a)(jt));a(354),a(355);if(localStorage.getItem("mytoptensJwtToken")){Re.dispatch(N(localStorage.mytoptensJwtToken)),Re.dispatch(L());var Tt=Date.now()/1e3;localStorage.mytoptensJwtToken.exp<Tt&&Re.dispatch(S())}var At=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement(h.a,{store:Re},s.a.createElement(m.a,null,s.a.createElement("div",null,s.a.createElement(ze,null),s.a.createElement("div",{className:"container"},s.a.createElement(d.a,{exact:!0,path:"/",component:ut}),s.a.createElement(d.a,{exact:!0,path:"/newlist",component:mt}),s.a.createElement(d.a,{exact:!0,path:"/list/:slug",component:Ct}),s.a.createElement(d.a,{exact:!0,path:"/register",component:Ke}),s.a.createElement(d.a,{exact:!0,path:"/welcome",component:$e}),s.a.createElement(d.a,{exact:!0,path:"/login",component:Xe}),s.a.createElement(d.a,{exact:!0,path:"/forgotpassword",component:Nt}),s.a.createElement(d.a,{exact:!0,path:"/account",component:It}),s.a.createElement(d.a,{exact:!0,path:"/changepassword",component:Lt}),s.a.createElement(d.a,{exact:!0,path:"/verified",component:Dt})))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()});r.a.render(s.a.createElement(At,null),document.getElementById("root"))}},[[134,1,2]]]);
//# sourceMappingURL=main.a0260088.chunk.js.map